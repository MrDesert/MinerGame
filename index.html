<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>MinerGame</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="main.css">
        <meta charset="utf-8">
    </head>
    <body id="ret" style="height: 100vh;">
        <div id="preloaderID"><div id="preloaderCentr"><span id="loading">Загрузка</span><span id="preloaderTextID">...</span></div></div>
        <div id="layerID">
            <img id="layerImgID" src="img/layer.png" alt=""> 
            <img id="cracksID" src="img/cracks.png" alt="">
        </div>
        <div id="hitZoneID" style="position: fixed; height: 100%; width: 100%;" onclick="hit(shovel)"></div>
        <h1>MinerGame</h1>
        <button id="langBtnID" class="btnCloseCircule" onclick="changeLang()"></button>
        <h2><span id="currentDepth">Текущая глубина:</span> <span id="depthLevelID">0</span></h2>

        <div id="menuID" onclick="menuTreePump(false)"><img id="bookID" class="sideMenuElementIconLeftIMG" src="img/book.png" alt=""><div id="warningID" hidden></div></div>

        <div class="rightText"><span id="wallet">Кошелёк: </span><img id="coinID" class="coinCl" src="img/coin.png" alt=""><span id="moneyID">0</span></div>
        <div class="rightText"><span id="clicks">Кликов: </span><span id="counterID">0</span></div>
        <div class="rightText"><span id="resets">Перезапусков: </span><span id="counterRebootID">0</span></div>
        <div class="rightText"><span id="hand_damage">Сила удара: </span><span id="hitID">1</span></div>
        <div class="rightText"><span id="auto_mine">Автоудар: </span><span id="autoHitInfoID">0</span></div>

        <div id="hpTitleID" hidden>Ударов до победы: <div id="hpID" class="inline-block">4</div></div>
        <div id="hpBarBorderID">
                <div style="position: absolute;" id="prifitLayerID">
                    <span id="profit">Прибыль: </span>
                    <div id="prizeID" class="inline-block">1</div>
                    <img id="coinID" class="coinCl" src="img/coin.png" alt="">
                    <!-- <div id="luckyID"></div> -->
                </div>
            <div id="hpBarID">
            </div>
        </div>
        

        <div id="blurID" hidden><span id="continue">Продолжить</span></div>

        <footer>© by MrDesert - beta v0.3.2.2</footer>


<script src="console.js" onload="createConsole(true, 'F2')"></script>
<script>
    const useYSDK = false;
    // let resurses = false;
    // let sdkLoad = false;
    // const script = document.createElement('script');
    // script.src = "https://yandex.ru/games/sdk/v2";
    // script.async = true;

    // document.getElementsByTagName('footer')[0].innerHTML = "© MrDesert - v0.3.0.3"; //Заменяю версию для яндекса
    // document.addEventListener('contextmenu', e => e.preventDefault()); //Отключение контекстного меню на ПКМ

    // document.head.appendChild(script);
    
    // script.onload = function(){
    //     myLog?.("script.onload");
    //     YaGames.init()
    //         .then(ysdk => {
    //             myLog?.("язык - " + ysdk.environment?.i18n?.lang); //Запрашиваем язык у YSDK
    //             document.documentElement.lang = 'ru';
    //             window.ysdk = ysdk;
    //             if(window.ysdk){
    //                 sdkLoad = true;
    //                 myLog?.("SDK загружен - " + sdkLoad);
    //             }
    //         })
    //         .then(()=>{
    //             return new Promise((resolve)=>{
    //                 const chekcInterval = setInterval(()=>{
    //                     if (sdkLoad && resurses){
    //                         myLog?.("Загруженны ресурсы и SDK");
    //                         ysdk.features?.GameplayAPI?.start?.();
    //                         clearInterval(chekcInterval);
    //                         resolve();
    //                     }
    //                     else if(sdkLoad){myLog?.("Ожидание ресурсов - " + resurses)}
    //                     else if (resurses){myLog?.("Ожидание SDK - " + sdkLoad)}
    //                     else{myLog?.("Ожидание ресурсов и CDK");}
    //                 }, 400);
    //             })
    //         })
    //         .then(()=>{
                                                        
                                        
    //             ysdk.features.LoadingAPI.ready();
    //         })
    //         .then(()=>{
    //             setTimeout(function(){
    //                 loadedGame(true);}, 500);
    //         })
    //         .catch(console.error);
    // };
    // window.addEventListener('load', function(){
    //     resurses = true;
    //     myLog?.("Ресурсы загруженны - " + resurses);
    // })
    
    // myLog?.("Язык - " + YaGames.locale());

if(!useYSDK){
     setTimeout(function(){loadedGame(true);}, 500);
}

</script>
        <script src="math.js"></script>
        <script src="https://mrdesert.github.io/Tools/main.js"></script>
        <script src="https://mrdesert.github.io/Tools/DOM.js"></script>
        <script src="script.js"></script>
    </body>
</html>